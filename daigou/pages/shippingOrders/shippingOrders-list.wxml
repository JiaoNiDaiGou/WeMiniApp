<view>
  <view class="weui-btn-area">
    <picker bindchange="onStatusChange" value="{{index}}" range="{{statusNames}}">
      <button type="normal" style='color:green'>{{statusNames[curStatusIndex]}}</button>
    </picker>
  </view>

  <view class='fui-shippingOrders-list__main_box'>
    <view wx:for='{{shippingOrdersByStatus[statusValues[curStatusIndex]]}}' wx:key='unique' wx:for-item='shippingOrder'>
      <view class='fui-lightborder fui-active-box' data-shippOrderId='{{shippingOrder.id}}' bindlongpress='actionShippingOrder'>
        <view class="weui-badge weui-flex__item" style='background-color: green;'>{{statusNames[shippingOrder.statusIndex]}}</view>
        <text-box iconClass='icon-tag-black-36' placeholder='姓名' value='{{shippingOrder.id}}'></text-box>
        <text-box iconClass='icon-profile-black-36' placeholder='姓名' value='{{shippingOrder.receiver.name}}'></text-box>
        <text-box iconClass='icon-phone-black-36' placeholder='电话' value='{{shippingOrder.receiver.phone.phone}}'></text-box>
        <text-box iconClass='icon-time-black-36' placeholder='创建日期' value='{{shippingOrder.renderableCreationTime}}'></text-box>
        <address-box region='{{shippingOrder.receiver.addresses[0].region}}' city='{{shippingOrder.receiver.addresses[0].city}}' zone='{{shippingOrder.receiver.addresses[0].zone}}' address='{{shippingOrder.receiver.addresses[0].address}}'></address-box>
        <product-list-box products='{{shippingOrder.renderableProducts}}'></product-list-box>
        <text-box iconClass='icon-evaluate-black-36' placeholder='总重量' value='{{!!shippingOrder.totalWeightLb ? shippingOrder.totalWeightLb + " 磅" : ""}}'></text-box>
        <text-box iconClass='icon-moneybag-black-36' placeholder='总价格' value='{{!!shippingOrder.totalPrice ? "$" + shippingOrder.totalPrice.value : ""}}'></text-box>
        <text-box wx:if='{{!!shippingOrder.teddyFormattedId}}' iconClass='icon-deliver-black-36' placeholder='小熊单号' valuePrefix='小熊单号' value='{{shippingOrder.teddyFormattedId}}'></text-box>
      </view>
    </view>
  </view>
</view>

<modal title="订购单 {{curAcitonItem.id}}" hidden="{{modalHidden}}" bindcancel="onModalDone" bindconfirm="onModalDone">
  <view class="weui-btn-area">
    <button wx:if='{{curAcitonItem.canExternalShip}}' type="normal" class='fui-modal-button' style='color: green' bindtap='curActionItemExternalShip'>小熊发货</button>
    <button wx:if='{{curAcitonItem.canDelete}}' type="normal" class='fui-modal-button' style='color: red' bindtap='curActionItemDelete'>删除</button>
  </view>
</modal>

<modal title="确认发货吗 重量必填" hidden="{{shippingOrderModalHidden}}" bindcancel="onShippingOrderModalCancel" bindconfirm="onShippingOrderModalConfirm">
  <view>
    <input class="input" type='digit' focus='{{!shippingOrderModalHidden}}' value="{{curActionItemTotalWeight}}" bindinput="onCurActionItemTotalWeightInput"></input>
  </view>
</modal>